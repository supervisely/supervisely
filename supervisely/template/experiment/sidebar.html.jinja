<div>

    <sly-style>
        /* Sidebar styles */
        .experiment-sidebar {
        position: sticky;
        top: 30px;
        width: 300px;
        height: 100vh;
        background: #fff;
        padding: 0 20px 20px;
        border-left: 1px solid #ccc;
        border-right: 1px solid #ccc;
        flex-shrink: 0;
        }

        .experiment-main-wrapper {
        display: flex;
        }

        .experiment-sidebar-nav a {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
        color: #007bff;
        text-decoration: none;
        font-size: 14px;
        }
        .experiment-sidebar-nav a .icon {
        margin-right: 6px;
        }
        .experiment-sidebar-nav a:hover {
        text-decoration: underline;
        }

        .experiment-sidebar-section {
        margin: 20px 0;
        }
        .experiment-sidebar-section h3 {
        margin-bottom: 8px;
        font-size: 14px;
        color: #878787;
        padding-bottom: 4px;
        }

        .experiment-checkpoints-list {
        list-style: none;
        padding: 0;
        margin-left: 10px;
        }
        .experiment-checkpoints-list li {
        margin-bottom: 6px;
        font-size: 13px;
        }
        .experiment-checkpoints-list li a {
        color: #007bff;
        text-decoration: none;
        }
        .experiment-checkpoints-list li a:hover {
        text-decoration: underline;
        }

        .experiment-metric {
        margin-bottom: 12px;
        font-size: 13px;
        margin-left: 10px;
        }
        .experiment-metric .experiment-label {
        display: inline-block;
        width: 40px;
        }
        .experiment-metric .experiment-value {
        float: right;
        }
        .experiment-progress-bar {
        background: #eee;
        height: 6px;
        border-radius: 3px;
        overflow: hidden;
        margin-top: 4px;
        }
        .experiment-progress {
        height: 100%;
        background: #28a745;
        }

        .experiment-divider {
        border: none;
        height: 1px;
        background-color: #ddd;
        margin: 20px 0;
        width: 50%;
        margin-left: auto;
        margin-right: auto;
        }

        html {
        scroll-behavior: smooth;
        }
    </sly-style>

    <div>
        <div class="experiment-sidebar-section">
            <h3>üöÄ Actions</h3>

            <div>

            <sly-iw-launch-button 
                title="Deploy"
                description="Deploy to Supervisely"
                icon="https://img.icons8.com/?size=100&id=YPSNW3VXY1QT&format=png&color=000000"
                :disabled="false"
                :autoRun="true"
                :moduleId="{{ links.app.serve.module_id }}"
                :state="{ 'trainTaskId': {{experiment.task_id}}, }">
            </sly-iw-launch-button>

            <sly-iw-launch-button
                title="Predict"
                description="Apply Model to Supervisely project"
                icon="https://img.icons8.com/?size=100&id=12133&format=png&color=000000"
                :disabled="false"
                :autoRun="true"
                :moduleId="{{ links.app.apply_nn_to_images.module_id }}"
                :state="{ 'slyProjectId': {{ project.id }}, }">
            </sly-iw-launch-button>

            <sly-iw-download-button
                title="Download"
                description="Zip archive with artifacts"
                icon="https://img.icons8.com/?size=100&id=12071&format=png&color=000000"
                :disabled="false"
                teamFilesPath="{{ experiment.artifacts_dir + '/' }}">
            </sly-iw-download-button>
            
            <sly-iw-launch-button
                title="Fine-tune"
                description="Continue training"
                icon="https://img.icons8.com/?size=100&id=zV8avTS0dJu1&format=png&color=000000"
                :disabled="false"
                :autoRun="true"
                :moduleId="{{ links.app.train.module_id }}"
                :state="{ 'slyProjectId': {{ project.id }}, }">
            </sly-iw-launch-button>

            <sly-iw-launch-button
                title="Train New"
                description="Start new training with the same data and hyperparameters"
                icon="https://img.icons8.com/?size=100&id=16887&format=png&color=000000"
                :disabled="false"
                :autoRun="true"
                :moduleId="{{ links.app.train.module_id }}"
                :state="{ 'slyProjectId': {{ project.id }}, }">
            </sly-iw-launch-button>

            </div>
        </div>
        <hr class="experiment-divider">
        <div class="experiment-sidebar-section">
            <h3>üîó Links</h3>
            <nav class="experiment-sidebar-nav">
                <a href="{{ links.app.training_session.url }}" target="_blank"><span class="icon">üéì</span> Open Train App
                    <i class="zmdi zmdi-arrow-right-top" style="margin-left: 5px"></i></a>
                <a href="{{ links.tensorboard_logs.url }}" target="_blank"><span class="icon">üìà</span> Training Logs <i
                        class="zmdi zmdi-arrow-right-top" style="margin-left: 5px"></i></a>
                <a href="{{ links.team_files.url }}" target="_blank"><span class="icon">üìÇ</span> Team Files Artifacts
                    <i class="zmdi zmdi-arrow-right-top" style="margin-left: 5px"></i></a>
                {% if links.evaluation_report.id %}
                <a href="{{ links.evaluation_report.url }}" target="_blank"><span class="icon">üìä</span> Evaluation
                    Report <i class="zmdi zmdi-arrow-right-top" style="margin-left: 5px"></i></a>
                {% endif %}
            </nav>
        </div>

        <div class="experiment-sidebar-section">
            <h3>üèÜ Checkpoints</h3>
            <ul class="experiment-checkpoints-list">
                <li><strong>üî• PyTorch:</strong> <a href="{{ artifacts.best_checkpoint.url }}"
                        download="{{ artifacts.best_checkpoint.name}}">{{ artifacts.best_checkpoint.name }}</a> ({{
                    artifacts.best_checkpoint.size }})</li>
                {% if artifacts.onnx_checkpoint.name %}
                <li><strong>üì¶ ONNX:</strong> <a href="{{ artifacts.onnx_checkpoint.url }}"
                        download="{{ artifacts.onnx_checkpoint.name}}">{{ artifacts.onnx_checkpoint.name }}</a> ({{
                    artifacts.onnx_checkpoint.size }})</li>
                {% endif %}
                {% if artifacts.trt_checkpoint.name %}
                <li><strong>‚ö° TensorRT:</strong> <a href="{{ artifacts.trt_checkpoint.url }}"
                        download="{{ artifacts.trt_checkpoint.name}}">{{ artifacts.trt_checkpoint.name }}</a> ({{
                    artifacts.trt_checkpoint.size }})</li>
                {% endif %}
            </ul>
        </div>

        {% if links.evaluation_report.id %}
        <div class="experiment-sidebar-section">
            <h3>üìä Evaluation</h3>

            {% for metric in benchmark.display_metrics %}
            <div class="experiment-metric">
                <span class="experiment-label">{{ metric.name }}</span>
                <span class="experiment-value">{{ metric.value }}</span>
                <div class="experiment-progress-bar">
                    <div class="experiment-progress" style="width: {{ metric.percent_value }}%"></div>
                </div>
            </div>
            {% endfor %}
        </div>
        <hr class="experiment-divider">
        {% endif %}
    </div>
</div>